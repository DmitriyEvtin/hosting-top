# üéØ –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å Sentry

## ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

- ‚úÖ **Sentry —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω** - `90.156.168.6:9000` –æ—Ç–≤–µ—á–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã** - DSN –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
- ‚úÖ **Sentry –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- ‚úÖ **API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç** - —Å–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
- ‚úÖ **–û—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è** - —Å—Ç–∞—Ç—É—Å 500 (–æ–∂–∏–¥–∞–µ–º–æ)
- ‚úÖ **–°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è** - —Å—Ç–∞—Ç—É—Å 200

## üîç –ü–æ—á–µ–º—É –ª–æ–≥–∏ –º–æ–≥—É—Ç –Ω–µ –ø–æ—è–≤–ª—è—Ç—å—Å—è –≤ Sentry UI

### 1. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –≤ Sentry UI**

Sentry —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/auth/login/` - —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ:

- –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ UI
- –°–æ–±—ã—Ç–∏—è –º–æ–≥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è, –Ω–æ –Ω–µ –≤–∏–¥–Ω—ã –±–µ–∑ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É

### 2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Sentry UI**

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
http://90.156.168.6:9000
```

- –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
- –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç —Å ID `3`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

### 3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞**

–í Sentry UI –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- **DSN –ø—Ä–æ–µ–∫—Ç–∞** - –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –≤–∞—à–∏–º
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤** - –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è
- **Rate limiting** - –º–æ–∂–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π
- **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ–µ–∫—Ç** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ production

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –í production –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker exec <container> env | grep SENTRY
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ü–æ–∏—Å–∫ –ª–æ–≥–æ–≤ Sentry
docker logs <container> | grep -i sentry

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
docker logs <container> | grep -i error
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –≤ production

```bash
# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Sentry
curl http://your-domain/api/sentry-diagnosis

# –¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—à–∏–±–∫–∏
curl http://your-domain/api/sentry-test

# –¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
curl -X POST http://your-domain/api/sentry-diagnosis \
  -H "Content-Type: application/json" \
  -d '{"message": "Production test"}'
```

## üîß –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Sentry UI**

- –ó–∞–π–¥–∏—Ç–µ –Ω–∞ `http://90.156.168.6:9000`
- –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
- –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç —Å ID `3`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

### 2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞**

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ DSN –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã —Å–æ–±—ã—Ç–∏–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ rate limiting
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

### 3. **–í–∫–ª—é—á–∏—Ç–µ debug —Ä–µ–∂–∏–º**

```bash
# –î–æ–±–∞–≤—å—Ç–µ –≤ production .env
SENTRY_DEBUG=true
```

### 4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ production —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ Sentry
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –∏ proxy –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ

## üìã –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è production

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- [ ] `SENTRY_DSN` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] `NEXT_PUBLIC_SENTRY_DSN` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] `NODE_ENV=production`

### Sentry —Å–µ—Ä–≤–µ—Ä

- [ ] –°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω
- [ ] –ü—Ä–æ–µ–∫—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] DSN –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- [ ] –ù–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

- [ ] Sentry –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
- [ ] –°–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–π–¥–∏—Ç–µ –Ω–∞ Sentry UI** - `http://90.156.168.6:9000`
2. **–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É** –∏ –Ω–∞–π–¥–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç —Å ID `3`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞** - DSN, —Ñ–∏–ª—å—Ç—Ä—ã, rate limiting
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ production –ª–æ–≥–∏** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ Sentry
5. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ API** –≤ production –æ–∫—Ä—É–∂–µ–Ω–∏–∏

## üÜò –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Sentry —Å–µ—Ä–≤–µ—Ä–∞**
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Sentry UI**
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏**
4. **–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É Sentry —Å–µ—Ä–≤–µ—Ä–∞**

## üìû –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make sentry-check          # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
make sentry-test-full       # –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make sentry-test-error      # –¢–µ—Å—Ç –æ—à–∏–±–æ–∫
make sentry-test-message    # –¢–µ—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏–π

# Production —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
curl http://your-domain/api/sentry-diagnosis
curl http://your-domain/api/sentry-test
```

**–ì–ª–∞–≤–Ω–æ–µ:** –ó–∞–π–¥–∏—Ç–µ –Ω–∞ Sentry UI –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞! –°–æ–±—ã—Ç–∏—è –º–æ–≥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è, –Ω–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞.
