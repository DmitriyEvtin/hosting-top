# üöÄ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å Sentry

## –ü—Ä–æ–±–ª–µ–º–∞

–õ–æ–≥–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ Sentry –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ, —Ö–æ—Ç—è DSN –Ω–∞—Å—Ç—Ä–æ–µ–Ω.

## ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞

### 1. –°–µ—Ä–≤–µ—Ä Sentry –¥–æ—Å—Ç—É–ø–µ–Ω

- ‚úÖ –°–µ—Ä–≤–µ—Ä `90.156.168.6:9000` –æ—Ç–≤–µ—á–∞–µ—Ç
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/auth/login/` (–Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è Sentry)

### 2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- ‚úÖ `SENTRY_DSN` –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ `NEXT_PUBLIC_SENTRY_DSN` –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ Sentry –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω

### 3. API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç: `/api/sentry-diagnosis`
- ‚úÖ –û—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è: `/api/sentry-test`
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è: POST `/api/sentry-diagnosis`

## üîß –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ª–æ–≥–æ–≤

### 1. –ü—Ä–æ–±–ª–µ–º—ã —Å production –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ production
echo $SENTRY_DSN
echo $NEXT_PUBLIC_SENTRY_DSN
```

### 2. –ü—Ä–æ–±–ª–µ–º—ã —Å Sentry —Å–µ—Ä–≤–µ—Ä–æ–º

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Sentry UI: `http://90.156.168.6:9000`
- –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–µ–∫—Ç—ã
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏ DSN

### 3. –ü—Ä–æ–±–ª–µ–º—ã —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤ Sentry
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å rate limiting
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

## üß™ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
make sentry-check

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
npm run dev

# 3. –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make sentry-test-full

# 4. –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
make sentry-test
make sentry-test-error
make sentry-test-message
```

### Production —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
docker exec <container> env | grep SENTRY

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker logs <container> | grep -i sentry

# 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API
curl http://your-domain/api/sentry-diagnosis
curl http://your-domain/api/sentry-test
```

## üìã –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è production

### 1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- [ ] `SENTRY_DSN` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] `NEXT_PUBLIC_SENTRY_DSN` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] `NODE_ENV=production`

### 2. Sentry —Å–µ—Ä–≤–µ—Ä

- [ ] –°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω
- [ ] –ü—Ä–æ–µ–∫—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] DSN –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- [ ] –ù–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

### 3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

- [ ] Sentry –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
- [ ] –°–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

## üö® –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Sentry UI**
   - –ó–∞–π—Ç–∏ –Ω–∞ `http://90.156.168.6:9000`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å ID `3`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å production –ª–æ–≥–∏**

   ```bash
   # –í production –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
   docker logs <container> | grep -i sentry
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ production —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ Sentry
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å firewall –∏ proxy –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

4. **–í–∫–ª—é—á–∏—Ç—å debug —Ä–µ–∂–∏–º**
   ```bash
   # –î–æ–±–∞–≤–∏—Ç—å –≤ production .env
   SENTRY_DEBUG=true
   ```

## üìû –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Sentry —Å–µ—Ä–≤–µ—Ä–∞
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Sentry UI
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏
4. –û–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É Sentry —Å–µ—Ä–≤–µ—Ä–∞
