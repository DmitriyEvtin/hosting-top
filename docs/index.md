## План разработки сайта (аналог bvb-alyans.ru) на Next.js

Источник вдохновения: [bvb-alyans.ru](https://bvb-alyans.ru/)

### 1. Цели и границы проекта
- **Цель**: корпоративный сайт-прайс с каталогом металлопроката, формами заявок (запрос цены, обратный звонок, оформление заказа), корзиной-подборкой, выбором города, документооборотом (файлы/досье), SEO-страницами и мультирегионами.
- **MVP**: каталог, карточки товара, фильтры/поиск, корзина «список покупок», формы заявок, модальные окна согласий, базовый выбор города, SEO-структура, карты контактов, документы.
- **Пост-MVP**: личный кабинет, интеграции CRM/1С, прайс-выгрузки, уведомления менеджерам, многоязычие.

### 2. Технологический стек
- **Frontend**: Next.js 15 (App Router), TypeScript, CSS Modules / Tilewidn Css, React Server Components.
- **Состояние**: React Query (данные), Form validation (React Final Form, Yup).
- **Бэкенд**: Next.js Route Handlers (API), при необходимости внешний BFF.
- **БД (по мере необходимости)**: PostgreSQL/MySQL через Prisma
- **Поиск/фильтры**: клиентские + потенциально Meilisearch/Elastic в будущем.
- **Аналитика**: Yandex Metrica, GA4, server-side events.
- **Инфраструктура**: Portainer + CDN, объектное хранилище для файлов, CI/CD GitHub Actions.

### 3. Информация и контент
- Структура разделов каталога (трубный, листовой, цветной, арматура и пр.).
- Справочники: города/регионы, контактные данные, юридические документы, файлы.
- Карточки товара: атрибуты, спецификации, варианты, наличие/сроки.
- Тексты SEO: категории, товары, страницы «О компании», «Доставка», «Оплата».

### 4. Дизайн и UX
- Дизайн-система: цвета, типографика, сетка, кнопки, формы, карточки.
- Навигация по крупному каталогу (мегаменю/дерево), хлебные крошки, быстрые фильтры.
- Мобильная адаптация, доступность, читаемость длинных списков, skeleton-загрузка.

### 5. Безопасность и соответствие
- Правовые страницы: политика ПДн, оферта, политика cookie.
- Согласия в формах (обязательные чекбоксы), капча/антиспам (hCaptcha/reCAPTCHA), rate limiting.
- Хранение заявок: шифрование в транзите, ограничение доступа, логирование.

### 6. SEO и производительность
- Метаданные (Next Metadata API), OpenGraph, JSON-LD для товаров/категорий.
- Генерация sitemap/robots, дружелюбные URL, каноникал, хлебные крошки Schema.org.
- Изображения через `next/image`, код-сплиттинг, кеширование, ISR, prefetch.

### 7. Интеграции
- Email/SMS/Telegram уведомления менеджерам.
- CRM/ERP (этап пост-MVP), прайс-выгрузки (CSV/XLSX), импорт каталога.

### 8. План спринтов (пример)
- **Спринт 1 (инфраструктура, каркас)**: настройки Next.js, лэйаут, глобальные стили, базовая навигация, страницы «Главная», «Контакты», «О компании».
- **Спринт 2 (каталог)**: модели категорий/товаров, страницы категорий, карточка товара, хлебные крошки, фильтры (клиентские), пагинация.
- **Спринт 3 (поиск и SEO)**: страница поиска, серверные фильтры, метаданные, sitemap/robots, JSON-LD.
- **Спринт 4 (корзина и формы)**: список покупок, модалки заявок (цена/заказ/обратный звонок), API-роуты, валидация, капча.
- **Спринт 5 (геоселектор и контент)**: выбор города (cookie/SSR), страницы документов и файлы, раздел «Документы».
- **Спринт 6 (аналитика и релиз)**: метрики, логирование, мониторинг, оптимизации, подготовка к продакшену.

### 9. Трекинг задач (высокого уровня)
- Инициализация проекта и CI/CD
- Дизайн-система и UI-компоненты
- Структура и модели данных
- Парсинг данных
- Каталог и карточки
- Поиск/фильтры
- Корзина/заявки
- Геоселектор
- Документы/файлы
- SEO/перфоманс
- Безопасность/соответствие
- Аналитика/мониторинг

### 10. Критерии готовности MVP
- Каталог полностью просматривается и индексируется (SSG/ISR), поиск работает.
- Каталог редактируется из админки
- Корзина и все формы заявок успешно отправляют данные и уведомляют менеджеров.
- Геоселектор определяет/запоминает город, страницы адаптивны и быстрые (Core Web Vitals в «зелёной зоне»).
- Базовые документы опубликованы, SEO-основа настроена.

### 11. Дальнейшее развитие
- ЛК и статусы заявок, интеграции CRM/1С.
- Расширенные фильтры, полнотекстовый поиск/подсказки.
- Мультирегиональные домены/поддомены, A/B тесты, персонализация.

---

Примечание: функциональность ориентирована на UX и паттерны, наблюдаемые на сайте-референсе, с учётом особенностей Next.js и современных практик производительности и SEO.
