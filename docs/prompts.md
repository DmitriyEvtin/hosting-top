# Промпты пользователя

## 2025-01-04

### Удаление сущностей из проекта

**Промпт:** "удали из проекта сущности но пользователя не удаляй"

**Описание:** Пользователь запросил удаление всех сущностей из проекта, кроме пользователя. Были удалены следующие сущности:

- Category (категории товаров)
- Product (товары)
- ProductImage (изображения товаров)
- ProductAttribute (атрибуты товаров)

**Выполненные действия:**

1. Удалены модели из schema.prisma
2. Удалены связанные enum
3. Удалено поле из модели User
4. Удалены файлы компонентов продуктов
5. Удалены тестовые фабрики для удаляемых сущностей
6. Удалены API моки для удаляемых сущностей
7. Создана миграция для удаления таблиц из базы данных
8. Обновлена документация архитектуры

**Результат:** Проект теперь содержит только систему аутентификации и управления пользователями.

### Очистка истории миграций

**Промпт:** "тогда давай сделаем так если миграции установлены то откатим их, затем удалим миграции и создадим одну первую init. это новый проект он нигде еще не устанавливался поэтому история миграций излишняя"

**Описание:** Пользователь запросил очистку истории миграций и создание одной чистой init миграции для нового проекта.

**Выполненные действия:**

1. Удалены все файлы миграций из папки prisma/migrations/
2. Полностью пересоздана база данных (docker compose down -v)
3. Создана новая init миграция `20251004181343_init`
4. Применена новая миграция к чистой базе данных

**Результат:** Проект теперь имеет чистую историю миграций с одной init миграцией, содержащей только таблицы для аутентификации (users, accounts, sessions, verification_tokens).

### Обновление seed файлов

**Промпт:** "надо бы и сид изменить"

**Описание:** Пользователь запросил обновление seed файлов для соответствия новой схеме базы данных.

**Выполненные действия:**

1. Обновлен основной seed.ts файл - убрана ссылка на несуществующий seed-test
2. Полностью переписан seed-test.ts файл для новой схемы:
   - Удалены ссылки на удаленные сущности (Category, Product)
   - Добавлено создание тестовых пользователей с разными ролями
   - Добавлено создание OAuth аккаунтов (Google, GitHub)
   - Добавлено создание тестовых сессий
   - Добавлено создание токенов верификации
3. Протестированы оба seed файла - работают корректно

**Результат:** Seed файлы обновлены и соответствуют новой схеме базы данных. Создаются тестовые данные для системы аутентификации.

### Настройка репозитория

**Промпт:** "эта копия проекта должны быт на git@github.com:amigo-group/parket-crm.git"

**Описание:** Пользователь запросил настройку проекта для работы с репозиторием amigo-group/parket-crm.git.

**Выполненные действия:**

1. Проверен текущий remote URL (был DmitriyEvtin/rolled-metal.git)
2. Обновлен remote URL на git@github.com:amigo-group/parket-crm.git
3. Проверено подключение к новому репозиторию
4. Подтверждено, что репозиторий доступен и содержит ветку master

**Результат:** Проект теперь настроен для работы с репозиторием amigo-group/parket-crm.git. Remote URL успешно обновлен и подключение работает.
